# minihost TODO

## Completed

- [x] **MIDI input** - Add API to send MIDI events to plugins (notes, CC, pitch bend)
- [x] **MIDI output** - Capture MIDI generated by plugins (arpeggiators, MIDI effects)
- [x] **State save/load** - Save and restore plugin state for presets and session recall
- [x] **Parameter metadata** - Get parameter names, labels, units, and display strings
- [x] **Transport info** - Provide BPM, time signature, playhead position for tempo-synced plugins
- [x] **Tail time** - Query and handle plugin tail (reverbs, delays) after input stops
- [x] **Bypass** - Standard bypass functionality
- [x] **Parameter enumeration** - List all parameters with their ranges and properties
- [x] **Latency compensation** - Use reported latency for proper alignment
- [x] **Sample-accurate automation** - Parameter changes at specific sample positions within a block
- [x] **Thread safety** - Locking for parameter changes from non-audio threads
- [x] **Reset** - Clear internal state between unrelated audio segments
- [x] **Non-realtime mode** - Higher-quality algorithms for offline processing
- [x] **Plugin probe** - Get metadata without full instantiation
- [x] **Parameter text conversion** - Convert between normalized values and display strings
- [x] **Factory presets** - Access built-in plugin presets
- [x] **Sidechain support** - Multiple input bus configuration
- [x] **Bus layout queries** - Query plugin I/O topology
- [x] **Sample rate change** - Change sample rate without reloading, preserving parameter state
- [x] **Plugin scanning** - Discover plugins in a directory via `mh_scan_directory()`
- [x] **Double precision processing** - 64-bit audio processing via `mh_process_double()`
- [x] **Async plugin loading** - Background thread loading via `mh_open_async()`

## Planned

### High priority

- [x] **MIDI capability queries** - Expose `acceptsMidi()`, `producesMidi()`, `isMidiEffect()`, `supportsMPE()` on live plugin instances (currently only partial info via `MH_PluginDesc` at probe time)
- [x] **Parameter IDs** - Expose stable string IDs via `getParameterID()` for version-safe state management (integer indices can break if plugin reorders parameters)
- [x] **Parameter categories** - Expose `getCategory()` on parameters (frequency, dynamics, spatial, etc.) for organized display and programmatic filtering

### Medium priority

- [x] **Bus layout validation** - Expose `isBusesLayoutSupported()` / `canApplyBusesLayout()` to query valid configurations before attempting them
- [x] **Change notifications** - Expose `AudioProcessorListener` with `ChangeDetails` flags (latency changed, parameter info changed, program changed, bus layout changed) for reactive hosts
- [x] **Parameter gestures** - Expose `beginChangeGesture()` / `endChangeGesture()` so plugins can optimize behavior during automation drags
- [x] **Current program state** - Expose `getCurrentProgramStateInformation()` / `setCurrentProgramStateInformation()` for lighter-weight per-program state save/restore

### Lower priority

- [x] **Processing precision selection** - Expose `setProcessingPrecision()` to explicitly select float vs double mode
- [x] **Track properties** - Expose `updateTrackProperties()` to pass track name/color metadata to plugins

## Non-goals

Intentionally omitted for headless/server use:

- Editor window management
- GUI hosting
- Preset browser UI
- MIDI learn
- Plugin shell/multi-instrument handling
